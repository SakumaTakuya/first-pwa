# 機能仕様: 要求1 - 迅速な記録開始

(省略)

---

# 機能仕様: 要求2 - 簡単な種目追加 (修正版)

(省略)

---

# 機能仕様: 要求3 - 完了した記録の永続化

(省略)

---

# 機能仕様: 要求5 - トレーニング履歴の確認

(省略)

---

# 機能仕様: 要求6 - セット入力UI/UXの改善

(省略)

---

# 機能仕様: 要求7 - 記録済みセットの編集機能 (修正版)

## 1. 概要
一度記録したセット（重量・回数）を、後から修正できる機能を追加する。UIは、モーダルを開かずにその場で編集できる「インライン編集」方式を採用し、迅速な操作性を維持する。

## 2. 設計方針
- **UI**: 編集対象のセットの表示が、入力フォームにその場で切り替わるインライン編集方式を実装する。
- **状態管理**: `session-store` (Zustand) に、特定のセットを更新するための`updateSet`メソッドを追加する。
- **セマンティックHTML**: 編集UIも`<form>`タグで囲み、HTML構造の正しさとアクセシビリティを担保する。
- **UI/UXの一貫性**: セット追加フォームとセット編集フォームのキーボード操作（特にEnterキー）の挙動を完全に一致させる。

## 3. 実装詳細

### Step 1: `session-store.ts`への更新機能追加
- (変更なし) `updateSet`メソッドをストアに追加する。

### Step 2: `ExerciseCard.tsx`内の`SetRow`コンポーネントの修正
- **UIの変更**:
  - セット番号を編集アイコンボタンに置き換える。
- **状態の追加**:
  - 編集中のセットを管理するローカル状態を追加する。
- **条件付きレンダリングの修正**:
  - **編集中である場合**: 
    - 入力欄とボタンを**`<form>`タグで囲む**。保存処理は`onSubmit`イベントで実行する。
    - 「保存」ボタンは`type="submit"`とする。
- **イベントハンドラの実装**:
  - **`onKeyDown`ハンドラの追加**: `ExerciseCard`のセット追加フォームと同様の`onKeyDown`ハンドラを、編集フォームの重量入力欄に追加する。これにより、Enterキーで回数入力欄へフォーカスが移動する。
- **モバイル対応**:
  - 編集フォームの入力欄にも`enterKeyHint="next"`と`enterKeyHint="done"`を追加し、挙動を統一する。
